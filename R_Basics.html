<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>R_Basics.utf8</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/spacelab.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 52px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h2 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h3 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h4 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h5 {
  padding-top: 57px;
  margin-top: -57px;
}
.section h6 {
  padding-top: 57px;
  margin-top: -57px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">TBEP R Training</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="R_Basics.html">
    <span class="fas fa-university"></span>
     
    R Basics
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-wrench"></span>
     
    Data wrangling
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Data_Wrangling_1.html">Part 1</a>
    </li>
    <li>
      <a href="Data_Wrangling_2.html">Part 2</a>
    </li>
  </ul>
</li>
<li>
  <a href="Viz_and_Graphics.html">
    <span class="fas fa-chart-line"></span>
     
    Viz and graphics
  </a>
</li>
<li>
  <a href="mapping.html">
    <span class="fas fa-globe-americas"></span>
     
    Spatial analysis and mapping
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Data_and_Resources.html">
    <span class="fas fa-list"></span>
     
    Data and resources
  </a>
</li>
<li>
  <a href="https://github.com/tbep-tech/tbep-r-training">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">




</div>


<div id="r-basics" class="section level1">
<h1>R Basics</h1>
<p>Get the lesson R script: <a href="R_Basics.R">R_Basics.R</a></p>
<p>Get the lesson data: <a href="data/data.zip">download zip</a></p>
<div id="lesson-outline" class="section level2">
<h2>Lesson Outline</h2>
<ul>
<li><a href="#goals-and-motivation">Goals and Motivation</a></li>
<li><a href="#rstudio">RStudio</a></li>
<li><a href="#r-language-fundamentals">R language fundamentals</a></li>
<li><a href="#data-structures-in-r">Data structures in R</a></li>
<li><a href="#getting-your-data-into-r">Getting your data into R</a></li>
</ul>
</div>
<div id="lesson-exercises" class="section level2">
<h2>Lesson Exercises</h2>
<ul>
<li><a href="#exercise-1">Exercise 1</a></li>
<li><a href="#exercise-2">Exercise 2</a></li>
<li><a href="#exercise-3">Exercise 3</a></li>
</ul>
</div>
<div id="goals-and-motivation" class="section level2">
<h2>Goals and Motivation</h2>
<p><a href="https://www.r-project.org/" target="_blank">R</a> is a language for statistical computing as well as a general purpose programming language. Increasingly, it has become one of the primary languages used in data science and for data analysis across many of the natural sciences.</p>
<p>The goals of this training are to expose you to fundamentals and to develop an appreciation of what’s possible with this software. We also provide resources that you can use for follow-up learning on your own. You should be able to answer these questions at the end of this session:</p>
<ul>
<li>What is R and why should I use it?</li>
<li>Why would I use RStudio and RStudio projects?</li>
<li>How can I write, save, and run scripts in RStudio?</li>
<li>Where can I go for help?</li>
<li>What are the basic data structures in R?</li>
<li>How do I import data?</li>
</ul>
<div id="why-should-i-invest-time-in-r" class="section level3">
<h3>Why should I invest time in R?</h3>
<p>There are many programming languages available and each has it’s specific benefits. R was originally created as a statistical programming language but now it is largely viewed as a ‘data science’ language. Why would you invest time in learning R compared to other languages?</p>
<ul>
<li>The growth of R as explained in the <a href="https://stackoverflow.blog/2017/10/10/impressive-growth-r/" target="_blank">Stack Overflow blog</a>, <a href="http://blog.revolutionanalytics.com/2016/07/r-moves-up-to-5th-place-in-ieee-language-rankings.html" target="_blank">IEEE rating</a></li>
</ul>
<p>R is also an open-source programming language - not only is it free, but this means anybody can contribute to it’s development. As of 2021-02-09, there are 17045 supplemental packages for R on CRAN!</p>
</div>
</div>
<div id="rstudio" class="section level2">
<h2>RStudio</h2>
<p>In the old days, the only way to use R was directly from the Console - this is a bare bones way of running R only with direct input of commands. Now, <a href="https://www.rstudio.com/" target="_blank">RStudio</a> is the go-to Interactive Development Environment (IDE) for R. Think of it like a car that is built around an engine. It is integrated with the console (engine) and includes many other features to improve the user’s experience, such as version control, debugging, dynamic documents, package manager and creation, and code highlighting and completion.</p>
<p>Let’s get familiar with RStudio before we go on.</p>
<div id="open-r-and-rstudio" class="section level3">
<h3>Open R and RStudio</h3>
<p>If you haven’t done so, download and install RStudio from the link above. After it’s installed, find the RStudio shortcut and fire it up (just watch for now). You should see something like this:</p>
<p><img src="figure/rstudio.png" /></p>
<p>There are four panes in RStudio:</p>
<ul>
<li><strong>Source</strong>: Your primary window for writing code to send to the console, this is where you write and save R “scripts”</li>
<li><strong>Console</strong>: This is where code is executed in R - you should almost never write code here.</li>
<li><strong>Environment, History, etc.</strong>: A tabbed window showing your working environment, code execution history, and other useful things</li>
<li><strong>Files, plots, etc.</strong>: A tabbed window showing a file explorer, a plot window, list of installed packages, help files, and viewer</li>
</ul>
</div>
<div id="rstudio-projects" class="section level3">
<h3>RStudio projects</h3>
<p>I strongly encourage you to use RStudio projects when you are working with R. The RStudio project provides a central location for working on a particular task. It helps with file management and is portable because all the files live in the same project. RStudio projects also remember history - what commands you used and what data objects are in your environment.</p>
<p>To create a new project, click on the File menu at the top and select ‘New project…’</p>
<p><img src="figure/rstudio_proj.jpg" /></p>
<p>Now we can use this project for our data and any scripts we create.</p>
</div>
<div id="scripting" class="section level3">
<h3>Scripting</h3>
<p>In most cases, you will not enter and execute code directly in the console. Code can be written in a script and then sent directly to the console when you’re ready to run it. The key difference here is that a script can be saved and shared.</p>
<p>Open a new script from the File menu…</p>
<p><img src="figure/rstudio_script.jpg" /></p>
</div>
<div id="executing-code-in-rstudio" class="section level3">
<h3>Executing code in RStudio</h3>
<p>After you write code in your script, it can be sent to the Console to run the code in R. Anything you write in the script will not be run or saved in R until it is sent to the console. There are two ways to do this. First, you can hit the <code>Run</code> button at the top right of the scripting window. Second, you can use <code>ctrl+enter</code> (<code>cmd+enter</code> on a Mac). Both approaches will send the selected line to the console, then move to the next line in your script. You can also highlight and send an entire block of code.</p>
<p><img src="figure/rstudio_run.jpg" /></p>
</div>
</div>
<div id="exercise-1" class="section level2">
<h2>Exercise 1</h2>
<p>This exercise will make sure R and RStudio are working and that you can get around the basics in RStudio.</p>
<ol style="list-style-type: decimal">
<li><p>Start RStudio if using a version you installed OR navigate to <a href="https://rstudio.cloud/project/1318333" target="_blank">https://rstudio.cloud/project/1318333</a> if using RStudio Cloud. To start both R and RStudio requires only firing up RStudio. RStudio should be available from All Programs at the Start Menu. Fire up RStudio.</p></li>
<li><p>If you’re not using RStudio Cloud, create a new project (File menu, New project, New directory, New project, Directory Name…). Name it “r_workshop”. We will use this for the rest of the workshop.</p></li>
<li><p>Create a new “R Script” in the Source Pane, save that file into your newly created project and name it “first_script.R”. It’ll just be a blank text file at this point.</p></li>
<li><p>Add in a comment line to separate this section. It should look something like: <code># Exercise 1: Just Getting used to RStudio and Scripts</code>.</p></li>
<li><p>Lastly, we need to get this project set up with some example data for our exercises (if you’re using RStudio Cloud, ignore this step). You should have downloaded this already, but if not, the data are available <a href="data/data.zip">here</a>. The data are in a zipped folder. Download the file to your computer (anywhere). Create a folder in your new project named <code>data</code> and extract the files into this location.</p></li>
</ol>
</div>
<div id="r-language-fundamentals" class="section level2">
<h2>R language fundamentals</h2>
<p>R is built around functions. These are commands that do specific things based on what you provide. The basic syntax of a function follows the form: <code>function_name(arg1, arg2, ...)</code>.</p>
<p>With the base install, you will gain access to many functions (3750, to be exact). Some examples:</p>
<pre class="r"><code># print
print(&#39;hello world!&#39;)</code></pre>
<pre><code>## [1] &quot;hello world!&quot;</code></pre>
<pre class="r"><code># sequence
seq(1, 10)</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code># random numbers
rnorm(100, mean = 10, sd = 2)</code></pre>
<pre><code>##   [1]  8.876646  7.674717  9.326093  9.007260  7.905752  9.307892  7.789301
##   [8] 10.065858 11.024657 10.338954  9.937385 13.172501 13.006997 11.083366
##  [15] 10.968292  9.222332 11.867694 11.602993  9.132979  9.199740 12.358199
##  [22] 12.517670 12.630786  8.696918  7.801060  9.252948  9.197330 11.848270
##  [29] 13.470896  6.971628  7.583962 12.841135 12.075057 10.313817  9.002929
##  [36] 10.096712 12.451088  8.366621  9.751985  8.027724  7.654742  8.556551
##  [43]  7.112355  4.739915 10.490557 10.293685  8.383941  8.816353  8.027240
##  [50]  9.531589  8.421857  8.270306  9.169436 12.922906 12.748606 12.230701
##  [57] 13.752505 13.790100 11.647825  8.855264  8.422173 10.484873  9.612043
##  [64]  9.283900  6.886468 12.024843  8.553741 11.912575  6.151305 11.010567
##  [71] 10.851709 10.526363  6.807310  9.841586  9.001872 10.758252 11.011593
##  [78]  8.035815  8.802159  7.623019  7.553714  8.770058  9.129732  9.997711
##  [85]  8.810101 11.315089  6.610252  9.333437 11.699988  7.527187  9.327499
##  [92] 10.400428 13.344894  7.317514 10.530260  7.406702 11.294992 12.670183
##  [99] 12.144778 12.742308</code></pre>
<pre class="r"><code># average 
mean(rnorm(100))</code></pre>
<pre><code>## [1] 0.0076922</code></pre>
<pre class="r"><code># sum
sum(rnorm(100))</code></pre>
<pre><code>## [1] -9.285322</code></pre>
<p>Very often you will see functions used like this:</p>
<pre class="r"><code>my_random_sum &lt;- sum(rnorm(100))</code></pre>
<p>In this case the first part of the line is the name of an object. You make this up. Ideally it should have some meaning, but the only rules are that it can’t start with a number and must not have any spaces. The second bit, <code>&lt;-</code>, is the assignment operator. This tells R to take the result of <code>sum(rnorm(100))</code> and store it in an object named, <code>my_random_sum</code>. It is stored in the environment and can be used by just executing it’s name in the console.</p>
<pre class="r"><code>my_random_sum</code></pre>
<pre><code>## [1] 18.37223</code></pre>
<div id="what-is-the-environment" class="section level3">
<h3>What is the environment?</h3>
<p>There are two outcomes when you run code. First, the code will simply print output directly in the console. Second, there is no output because you have stored it as a variable using <code>&lt;-</code>. Output that is stored is actually saved in the <code>environment</code>. The environment is the collection of named objects that are stored in memory for your current R session. Anything stored in memory will be accessible by it’s name without running the original script that was used to create it.</p>
<p>With this, you have the very basics of how we write R code and save objects that can be used later.</p>
</div>
<div id="packages" class="section level3">
<h3>Packages</h3>
<p>The base install of R is quite powerful, but you will soon have a need or desire to go beyond this. Packages provide this ability. They are a standardized way of extending R with new methods, techniques, and programming functionality. There is a lot to say about packages regarding finding them, using them, etc., but for now let’s focus just on the basics.</p>
</div>
<div id="cran" class="section level3">
<h3>CRAN</h3>
<p>One of the reasons for R’s popularity is CRAN, <a href="http://cran.r-project.org/" target="_blank">The Comprehensive R Archive Network</a>. This is where you download R and also where most will gain access to packages (there are other places, but that is for later). Not much else to say about this now other than to be aware of it. As of 2021-02-09, there are 17045 packages on CRAN!</p>
</div>
<div id="installing-packages" class="section level3">
<h3>Installing packages</h3>
<p>When a package gets installed, that means the source code is downloaded and put into your library. A default library location is set for you so no need to worry about that. In fact, on Windows most of this is pretty automatic. Let’s give it a shot.</p>
</div>
</div>
<div id="exercise-2" class="section level2">
<h2>Exercise 2</h2>
<p>We’re going to install some packages from CRAN that will give us the tools for our workshop today. We’ll use the tidyverse, sf, and mapview packages. Later, we’ll explain in detail what each of these packages provide. Again, if you are using RStudio Cloud, these packages will already be installed. You can skip to step 5 in this case.</p>
<ol style="list-style-type: decimal">
<li><p>At the top of the script you just created, type the following functions.</p>
<pre class="r"><code># install packages from CRAN
install.packages(&quot;tidyverse&quot;)
install.packages(&quot;sf&quot;)
install.packages(&quot;mapview&quot;)</code></pre></li>
<li><p>Select all the lines by clicking and dragging the mouse pointer over the text.</p></li>
<li><p>Send all the commands to the console using <code>ctrl+enter</code>. You should see some text output on the console about the installation process. The installation may take a few minutes so don’t be alarmed.</p></li>
<li><p>After the packages are done installing, verify that there were no errors during the process (this should be pretty obvious, i.e., error text in big scary red letters).</p></li>
<li><p>Load the packages after they’ve installed.</p>
<pre class="r"><code>library(&quot;tidyverse&quot;)
library(&quot;sf&quot;)
library(&quot;mapview&quot;)</code></pre></li>
</ol>
<p>An important aspect of packages is that you only need to download them once, but every time you start RStudio you need to load them with the <code>library()</code> function. Loading a package makes all of its functions available in your current R session.</p>
<div id="getting-help" class="section level3">
<h3>Getting Help</h3>
<p>Being able to find help and interpret that help is probably one of the most important skills for learning a new language. R is no different. Help on functions and packages can be accessed directly from R, can be found on CRAN and other official R resources, searched on Google, found on StackOverflow, or from any number of fantastic online resources. I will cover a few of these here.</p>
</div>
<div id="help-from-the-console" class="section level3">
<h3>Help from the console</h3>
<p>Getting help from the console is straightforward and can be done numerous ways.</p>
<pre class="r"><code># Using the help command/shortcut
# When you know the name of a function
help(&quot;print&quot;) # Help on the print command
?print # Help on the print command using the `?` shortcut

# When you know the name of the package
help(package = &quot;sf&quot;) # Help on the package `dplyr`

# Don&#39;t know the exact name or just part of it
apropos(&quot;print&quot;) # Returns all available functions with &quot;print&quot; in the name
??print # shortcut, but also searches demos and vignettes in a formatted page</code></pre>
</div>
<div id="official-r-resources" class="section level3">
<h3>Official R Resources</h3>
<p>In addition to help from within R itself, CRAN and the R-Project have many resources available for support. Two of the most notable are the mailing lists and the <a href="http://cran.r-project.org/web/views/" target="_blank">task views</a>.</p>
<ul>
<li><a href="https://stat.ethz.ch/mailman/listinfo/r-help" target="_blank">R Help Mailing List</a>: The main mailing list for R help. Can be a bit daunting and some (although not most) senior folks can be, um, curmudgeonly…</li>
<li><a href="https://stat.ethz.ch/mailman/listinfo/r-sig-ecology" target="_blank">R-sig-ecology</a>: A special interest group for use of R in ecology. Less daunting than the main help with participation from some big names in ecological modelling and statistics (e.g., Ben Bolker, Gavin Simpson, and Phil Dixon).</li>
<li><a href="http://cran.r-project.org/web/views/Environmetrics.html" target="_blank">Environmetrics Task View</a>: Task views are great in that they provide an annotated list of packages relevant to a particular field. This one is maintained by Gavin Simpson and has great info on packages relevant to the environmental sciences.</li>
<li><a href="http://cran.r-project.org/web/views/Spatial.html" target="_blank">Spatial Analysis Task View</a>: One I use a lot that lists all the relevant packages for spatial analysis, GIS, and Remote Sensing in R.</li>
</ul>
</div>
<div id="google-and-stackoverflow" class="section level3">
<h3>Google and StackOverflow</h3>
<p>While the resources already mentioned are useful, often the quickest way is to just turn to Google. However, a search for “R” is a bit challenging. A few ways around this. Google works great if you search for a given package or function name. You can also search for mailing lists directly (i.e. “R-sig-geo”), although Google often finds results from these sources.</p>
<p>Blind googling can require a bit of strategy to get the info you want. Some pointers:</p>
<ul>
<li>Always preface the search with “r”</li>
<li>Understand which sources are reliable</li>
<li>Take note of the number of hits and date of a web page</li>
<li>When in doubt, search with the exact error message (see here for <a href="https://cran.r-project.org/doc/manuals/R-lang.html#Exception-handling" target="_blank">details</a> about warnings vs errors)</li>
</ul>
<p>One specific resource that I use quite a bit is <a href="http://stackoverflow.com/questions/tagged/r" target="_blank">StackOverflow with the ‘r’ tag</a>. StackOverflow is a discussion forum for all things related to programming. You can then use this tag and the search functions in StackOverflow and find answers to almost anything you can think of. However, these forums are also very strict and I typically use them to find answers, not to ask questions.</p>
</div>
<div id="other-resources" class="section level3">
<h3>Other Resources</h3>
<p>As I mentioned earlier, there are TOO many resources to list here and everyone has their favorites. Below are just a few that I like.</p>
<ul>
<li><a href="http://rforcats.net/" target="_blank">R For Cats</a>: Basic introduction site, meant to be a gentle and light-hearted introduction</li>
<li><a href="https://r4ds.had.co.nz/" target="_blank">R for Data Science</a>: My favorite resource for learning data science methods with R, focusing on the tidyverse. Much of the content in this training is adapted from this book.</li>
<li><a href="http://adv-r.had.co.nz/" target="_blank">Advanced R</a>: Web home of Hadley Wickham’s book, the same author of R for Data Science. Gets into more advanced topics, but also covers the basics in a great way.</li>
<li><a href="http://cran.r-project.org/doc/contrib/Short-refcard.pdf" target="_blank">CRAN Cheatsheets</a>: A good cheat sheet from the official source</li>
<li><a href="http://www.rstudio.com/resources/cheatsheets/" target="_blank">RStudio Cheatsheets</a>: Additional cheat sheets from RStudio. I am especially fond of the data wrangling one.</li>
</ul>
</div>
</div>
<div id="data-structures-in-r" class="section level2">
<h2>Data structures in R</h2>
<p>Now that you know how to get started in R and where to find resources, we can begin talking about R data structures. Simply put, a data structure is a way for programming languages to handle information storage.</p>
<p>There is a bewildering amount of formats for storing data and R is no exception. Understanding the basic building blocks that make up data types is essential. All functions in R require specific types of input data and the key to using functions is knowing how these types relate to each other.</p>
<div id="vectors-one-dimensional-data" class="section level3">
<h3>Vectors (one-dimensional data)</h3>
<p>The basic data format in R is a vector - a one-dimensional grouping of elements that have the same type. These are all vectors and they are created with the <code>c</code> function:</p>
<pre class="r"><code>dbl_var &lt;- c(1, 2.5, 4.5)
int_var &lt;- c(1L, 6L, 10L)
log_var &lt;- c(TRUE, FALSE, T, F)
chr_var &lt;- c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</code></pre>
<p>The four types of atomic vectors (think atoms that make up a molecule aka vector) are <code>double</code> (or numeric), <code>integer</code>, <code>logical</code>, and <code>character</code>. For most purposes you can ignore the <code>integer</code> class, so there are basically three types. Each type has some useful properties:</p>
<pre class="r"><code>class(dbl_var)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>length(log_var)</code></pre>
<pre><code>## [1] 4</code></pre>
<p>These properties are useful for not only describing an object, but they define limits on which functions or types of operations that can be used. That is, some functions require a character string input while others require a numeric input. Similarly, vectors of different types or properties may not play well together. Let’s look at some examples:</p>
<pre class="r"><code># taking the mean of a character vector
mean(chr_var)

# adding two numeric vectors of different lengths
vec1 &lt;- c(1, 2, 3, 4)
vec2 &lt;- c(2, 3, 5)
vec1 + vec2</code></pre>
</div>
<div id="dimensional-data" class="section level3">
<h3>2-dimensional data</h3>
<p>A collection of vectors represented as one data object are often described as two-dimensional data, or in R speak, a data frame (i.e., <code>data.frame()</code>). Think of them like your standard spreadsheet, where each column describes a variable (vector) and rows link observations between columns. Here’s a simple example:</p>
<pre class="r"><code>ltrs &lt;- c(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
nums &lt;- c(1, 2, 3)
logs &lt;- c(T, F, T)
mydf &lt;- data.frame(ltrs, nums, logs)
mydf</code></pre>
<pre><code>##   ltrs nums  logs
## 1    a    1  TRUE
## 2    b    2 FALSE
## 3    c    3  TRUE</code></pre>
<p>The only constraints required to make a data frame are:</p>
<ol style="list-style-type: decimal">
<li><p>Each column (vector) contains the same type of data</p></li>
<li><p>The number of observations in each column is equal.</p></li>
</ol>
</div>
</div>
<div id="getting-your-data-into-r" class="section level2">
<h2>Getting your data into R</h2>
<p>It is the rare case when you manually enter your data in R, not to mention impractical for most datasets. Most data analysis workflows typically begin with importing a dataset from an external source. Literally, this means committing a dataset to memory (i.e., storing it as a variable) as one of R’s data structure formats.</p>
<p>Flat data files (text only, rectangular format) present the least complications on import because there is very little to assume about the structure of the data. On import, R tries to guess the data type for each column and this is fairly unambiguous with flat files. We’ll be using <code>read_csv()</code> function from the readr package that comes with the tidyverse.</p>
</div>
<div id="the-working-directory" class="section level2">
<h2>The working directory</h2>
<p>Before we import data, we need to talk about the “working directory”. Whenever RStudio is opened, it uses a file location on your computer to access and save data. If you’re using an RStudio project, the working directory will be the folder where you created the project. If not, it is probably the the user’s home directory (e.g., <code>C:/Users/Marcus</code>), which you’ll want to change to where you have your data.</p>
<p>You can see your working directory with the <code>getwd()</code> function or from the file path at the top of the console in RStudio. All files in the File pane window on the bottom right of RStudio are also those within the working directory. If you want to change your working directory, you can use the <code>setwd()</code> function and put the file path (as a character string) inside the function, e.g., <code>setwd('C:/Users/Marcus/Desktop/newdirectory')</code>.</p>
<p>The working directory is important to know when you’re importing or exporting data. When you import data, a <em>relative</em> file path can be used that is an extension of the working directory. For example, if your working directory is <code>'C:/Users/Marcus/Desktop'</code> and you have a file called <code>mydata.csv</code> in that directory, you can use <code>read_csv('mydata.csv')</code> to import the file. Alternatively, if there’s a folder called “data” in your working directory with the file you want to import, you would use <code>read_csv('data/mydata.csv')</code>.</p>
<p>If you want to import a file that is not in your working directory, you will have to use an <em>absolute</em> path that is the full file location. Otherwise, R will not know where to look outside of the working directory.</p>
</div>
<div id="exercise-3" class="section level2">
<h2>Exercise 3</h2>
<p>Now that we have the data downloaded and extracted to our data folder, we’ll use <code>read_csv</code> to import two files into our environment. The <code>read_csv</code> function comes with the tidyverse package, so make sure that package is loaded (i.e., <code>library(tidyverse)</code>) before you do this exercise. This should have been done in the second exercise.</p>
<ol style="list-style-type: decimal">
<li><p>Type the following in your script. Note the use of <em>relative</em> file paths within your project (see the explanation above).</p>
<pre class="r"><code>fishdat &lt;- read_csv(&#39;data/fishdat.csv&#39;)
statloc &lt;- read_csv(&#39;data/statloc.csv&#39;)</code></pre></li>
<li><p>Send the commands to the console with <code>ctrl+enter</code>.</p></li>
<li><p>Verify that the data imported correctly by viewing the first six rows of each dataset. Use the <code>head()</code> function directly in the console, e.g., <code>head(fishdat)</code> or <code>head(statloc)</code></p></li>
</ol>
<p>Let’s explore the datasets a bit. There are many useful functions for exploring the characteristics of a dataset. This is always a good idea when you first import something.</p>
<pre class="r"><code># get the dimensions
dim(fishdat)</code></pre>
<pre><code>## [1] 2844   12</code></pre>
<pre class="r"><code>dim(statloc)</code></pre>
<pre><code>## [1] 2173    3</code></pre>
<pre class="r"><code># get the column names
names(fishdat)</code></pre>
<pre><code>##  [1] &quot;OBJECTID&quot;      &quot;Reference&quot;     &quot;Sampling_Date&quot; &quot;yr&quot;           
##  [5] &quot;Gear&quot;          &quot;ExDate&quot;        &quot;Bluefish&quot;      &quot;Common Snook&quot; 
##  [9] &quot;Mullets&quot;       &quot;Pinfish&quot;       &quot;Red Drum&quot;      &quot;Sand Seatrout&quot;</code></pre>
<pre class="r"><code>names(statloc)</code></pre>
<pre><code>## [1] &quot;Reference&quot; &quot;Latitude&quot;  &quot;Longitude&quot;</code></pre>
<pre class="r"><code># see the first six rows
head(fishdat)</code></pre>
<pre><code>## [90m# A tibble: 6 x 12[39m
##   OBJECTID Reference Sampling_Date    yr  Gear ExDate              Bluefish
##      [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;chr&gt;[39m[23m     [3m[90m&lt;date&gt;[39m[23m        [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;dbl&gt;[39m[23m [3m[90m&lt;dttm&gt;[39m[23m                 [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m  1[4m5[24m[4m5[24m[4m0[24m020 TBM19960… 1996-03-20     [4m1[24m996   300 2018-04-12 [90m10:27:38[39m        0
## [90m2[39m  1[4m5[24m[4m5[24m[4m0[24m749 TBM19960… 1996-03-20     [4m1[24m996    22 2018-04-12 [90m10:25:23[39m        0
## [90m3[39m  1[4m5[24m[4m5[24m[4m0[24m750 TBM19960… 1996-03-20     [4m1[24m996    22 2018-04-12 [90m10:25:23[39m        0
## [90m4[39m  1[4m5[24m[4m5[24m[4m0[24m762 TBM19960… 1996-03-22     [4m1[24m996    20 2018-04-12 [90m10:25:23[39m        0
## [90m5[39m  1[4m5[24m[4m5[24m[4m0[24m828 TBM19960… 1996-04-26     [4m1[24m996   160 2018-04-12 [90m10:25:23[39m        0
## [90m6[39m  1[4m5[24m[4m5[24m[4m0[24m838 TBM19960… 1996-05-13     [4m1[24m996   300 2018-04-12 [90m10:25:23[39m        0
## [90m# … with 5 more variables: `Common Snook` [3m[90m&lt;dbl&gt;[90m[23m, Mullets [3m[90m&lt;dbl&gt;[90m[23m, Pinfish [3m[90m&lt;dbl&gt;[90m[23m,[39m
## [90m#   `Red Drum` [3m[90m&lt;dbl&gt;[90m[23m, `Sand Seatrout` [3m[90m&lt;dbl&gt;[90m[23m[39m</code></pre>
<pre class="r"><code>head(statloc)</code></pre>
<pre><code>## [90m# A tibble: 6 x 3[39m
##   Reference     Latitude Longitude
##   [3m[90m&lt;chr&gt;[39m[23m            [3m[90m&lt;dbl&gt;[39m[23m     [3m[90m&lt;dbl&gt;[39m[23m
## [90m1[39m TBM1996032006     27.9     -[31m82[39m[31m.[39m[31m6[39m
## [90m2[39m TBM1996032004     27.9     -[31m82[39m[31m.[39m[31m6[39m
## [90m3[39m TBM1996032207     27.9     -[31m82[39m[31m.[39m[31m5[39m
## [90m4[39m TBM1996042601     28.0     -[31m82[39m[31m.[39m[31m7[39m
## [90m5[39m TBM1996051312     27.9     -[31m82[39m[31m.[39m[31m6[39m
## [90m6[39m TBM1996051407     27.9     -[31m82[39m[31m.[39m[31m6[39m</code></pre>
<pre class="r"><code># get the overall structure
str(fishdat)</code></pre>
<pre><code>## spec_tbl_df [2,844 × 12] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ OBJECTID     : num [1:2844] 1550020 1550749 1550750 1550762 1550828 ...
##  $ Reference    : chr [1:2844] &quot;TBM1996032006&quot; &quot;TBM1996032004&quot; &quot;TBM1996032004&quot; &quot;TBM1996032207&quot; ...
##  $ Sampling_Date: Date[1:2844], format: &quot;1996-03-20&quot; &quot;1996-03-20&quot; ...
##  $ yr           : num [1:2844] 1996 1996 1996 1996 1996 ...
##  $ Gear         : num [1:2844] 300 22 22 20 160 300 300 300 300 22 ...
##  $ ExDate       : POSIXct[1:2844], format: &quot;2018-04-12 10:27:38&quot; &quot;2018-04-12 10:25:23&quot; ...
##  $ Bluefish     : num [1:2844] 0 0 0 0 0 0 0 0 0 0 ...
##  $ Common Snook : num [1:2844] 0 0 0 0 0 0 0 0 0 0 ...
##  $ Mullets      : num [1:2844] 0 0 0 0 0 0 0 0 0 0 ...
##  $ Pinfish      : num [1:2844] 0 54 0 80 0 0 0 0 1 1 ...
##  $ Red Drum     : num [1:2844] 0 0 1 0 4 0 0 0 0 0 ...
##  $ Sand Seatrout: num [1:2844] 1 0 0 0 0 1 5 66 0 0 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   OBJECTID = [32mcol_double()[39m,
##   ..   Reference = [31mcol_character()[39m,
##   ..   Sampling_Date = [34mcol_date(format = &quot;&quot;)[39m,
##   ..   yr = [32mcol_double()[39m,
##   ..   Gear = [32mcol_double()[39m,
##   ..   ExDate = [34mcol_datetime(format = &quot;&quot;)[39m,
##   ..   Bluefish = [32mcol_double()[39m,
##   ..   `Common Snook` = [32mcol_double()[39m,
##   ..   Mullets = [32mcol_double()[39m,
##   ..   Pinfish = [32mcol_double()[39m,
##   ..   `Red Drum` = [32mcol_double()[39m,
##   ..   `Sand Seatrout` = [32mcol_double()[39m
##   .. )</code></pre>
<pre class="r"><code>str(statloc)</code></pre>
<pre><code>## spec_tbl_df [2,173 × 3] (S3: spec_tbl_df/tbl_df/tbl/data.frame)
##  $ Reference: chr [1:2173] &quot;TBM1996032006&quot; &quot;TBM1996032004&quot; &quot;TBM1996032207&quot; &quot;TBM1996042601&quot; ...
##  $ Latitude : num [1:2173] 27.9 27.9 27.9 28 27.9 ...
##  $ Longitude: num [1:2173] -82.6 -82.6 -82.5 -82.7 -82.6 ...
##  - attr(*, &quot;spec&quot;)=
##   .. cols(
##   ..   Reference = [31mcol_character()[39m,
##   ..   Latitude = [32mcol_double()[39m,
##   ..   Longitude = [32mcol_double()[39m
##   .. )</code></pre>
<p>You can also view each dataset in a spreadsheet style in the scripting window:</p>
<pre class="r"><code>View(fishdat)
View(statloc)</code></pre>
<div id="other-ways-to-import-data" class="section level3">
<h3>Other ways to import data</h3>
<p>You might want to import an Excel spreadsheet as well. In the old days, importing spreadsheets into R was almost impossible given the proprietary data structure used by Microsoft. The tools available in R have since matured and it’s now pretty painless to import a spreadsheet. The <code>readxl</code> package is the most recent and by far most flexible data import package for Excel files. It comes with the <code>tidyverse</code> family of packages.</p>
<p>Once installed, we can load it to access the import functions.</p>
<pre class="r"><code>library(readxl)
dat &lt;- read_excel(&#39;location/of/excel/file.xlsx&#39;)</code></pre>
</div>
</div>
<div id="summary" class="section level2">
<h2>Summary</h2>
<p>In this lesson we learned about R and Rstudio, some of the basic syntax and data structures in R, and how to import files. We’ve just imported some provisional fisheries data from the FWRI FIM database for Old Tampa Bay (OTB) that we’ll continue to use for the rest of the workshop. Next we’ll learn how to process and plot these data to gain insight into how these data vary through space and time.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
